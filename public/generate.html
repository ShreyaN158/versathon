<link rel="stylesheet" href="style.css">

<div class="container">
  <h1>MCQ Generator</h1>

  <select id="lesson">
    <option value="">Select Lesson</option>
    <option value="lesson1">Lesson 1</option>
    <option value="lesson2">Lesson 2</option>
    <option value="lesson3">Lesson 3</option>
  </select>

  <textarea id="text" rows="5" placeholder="Paste paragraph here"></textarea>

  <button onclick="generate()">Generate</button>

  <div id="output"></div>
</div>

<script>
function generate() {
  const lesson = document.getElementById('lesson').value;
  const text = document.getElementById('text').value;
  const output = document.getElementById('output');

  if (!lesson) {
    alert('Please select a lesson first.');
    return;
  }

  fetch('/generate', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({ text: text, lesson: lesson })
  })
  .then(res => res.json())
  .then(data => {
    output.innerHTML = '';

    data.forEach((q, i) => {
      output.innerHTML += `
        <div class="mcq-card">

          <div class="question-block">
            <h3>Question ${i+1}</h3>
            <input type="text" value="${q.question}" class="edit-input question-input" placeholder="Enter question here">
          </div>

          <div class="options-block">
            <h4>Options</h4>
            ${q.options.map((opt, idx) => `
              <input type="text" value="${opt || ''}" class="edit-input option-input" placeholder="Option ${idx + 1}">
            `).join('')}
          </div>

          <div class="answer-block">
            <h4>Correct Answer</h4>
            <input type="text" value="${q.answer || ''}" class="edit-input answer-input" placeholder="Enter correct answer">
          </div>

          <input type="hidden" class="lesson-input" value="${lesson}">

        </div>
      `;
    });
  });
}
</script>


